user: openproject
group: openproject
targets:
  debian-7: &debian
    build_dependencies:
      - libmagickwand-dev
      - libsqlite3-dev
  debian-8:
    <<: *debian
  ubuntu-14.04:
    <<: *debian
  fedora-20: &redhat
    build_dependencies:
      - ImageMagick-devel
  centos-6:
    <<: *redhat
  centos-7:
    <<: *redhat
    dependencies:
      - epel-release
  sles-11:
    env:
      - EMBED_IMAGEMAGICK=true
  sles-12:
    build_dependencies:
      - ImageMagick-devel
before_precompile: "packaging/setup"
crons:
  - packaging/cron/openproject-clear-old-sessions
services:
  - postgres
installer: https://github.com/pkgr/installer.git
wizards:
  - https://github.com/pkgr/addon-legacy-installer.git
  - https://github.com/pkgr/addon-mysql.git
  - https://github.com/oliverguenther/addon-apache2.git#feature/relative_root
  - https://github.com/finnlabs/addon-repositories.git#feature/relative_root
  - https://github.com/pkgr/addon-smtp.git
  - https://github.com/pkgr/addon-memcached.git
  - https://github.com/oliverguenther/addon-openproject.git#feature/consolidate_postinstall
buildpack: https://github.com/ddollar/heroku-buildpack-multi.git
